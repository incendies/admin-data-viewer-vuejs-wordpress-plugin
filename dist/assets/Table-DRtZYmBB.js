import{_ as p,c as o,a as t,F as h,r as D,o as r,t as s}from"../main.js";const f={name:"Table",data(){return{tableData:[],apiData:{root_url:typeof yunusPluginData<"u"?yunusPluginData.root_url:"http://localhost:5173",nonce:typeof yunusPluginData<"u"?yunusPluginData.nonce:"development_nonce"}}},methods:{async fetchTableData(){try{const n=`${this.apiData.root_url}/api`,a=this.apiData.nonce!=="development_nonce"?{"X-WP-Nonce":this.apiData.nonce}:{},u=await fetch(n,{headers:a}),c=u.headers.get("content-type");if(!c||!c.includes("application/json"))throw new Error("Received non-JSON response");const e=await u.json();e.table&&e.table.data&&Array.isArray(e.table.data.rows)?this.tableData=e.table.data.rows:console.error("Unexpected data format:",e)}catch(n){console.error("Error fetching table data:",n)}},formatDate(n){return new Date(n*1e3).toLocaleDateString()}},mounted(){this.fetchTableData()}},b={key:0},y={key:1};function _(n,a,u,c,e,d){return r(),o("div",null,[a[1]||(a[1]=t("h1",null,"Table Data",-1)),e.tableData.length?(r(),o("table",b,[a[0]||(a[0]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"URL"),t("th",null,"Title"),t("th",null,"Pageviews"),t("th",null,"Date")])],-1)),t("tbody",null,[(r(!0),o(h,null,D(e.tableData,(l,i)=>(r(),o("tr",{key:i},[t("td",null,s(l.id),1),t("td",null,s(l.url),1),t("td",null,s(l.title),1),t("td",null,s(l.pageviews),1),t("td",null,s(d.formatDate(l.date)),1)]))),128))])])):(r(),o("p",y,"Loading data..."))])}const m=p(f,[["render",_],["__scopeId","data-v-1ab9cacc"]]);export{m as default};
